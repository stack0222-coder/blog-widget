<!DOCTYPE html>
<html lang="ko">
<head>
  <!--
    [ê¸°ë³¸ ì„¤ì •]
    - UTF-8 í•œê¸€ ì¸ì½”ë”©
    - ëª¨ë°”ì¼ í™”ë©´ ëŒ€ì‘ (viewport)
  -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ë„¤ì´ë²„ ë¸”ë¡œê·¸ ìµœì‹ ê¸€</title>

  <!--
    [ë””ìì¸(CSS) ì˜ì—­]
    - ì¹´ë“œ ëª¨ì–‘, í°íŠ¸, ê°„ê²©, ì´ë¯¸ì§€ í¬ê¸° ë“±ì„ ì—¬ê¸°ì„œ ì¡°ì ˆí•©ë‹ˆë‹¤.
  -->
  <style>
    /* â–  ì „ì²´ í˜ì´ì§€ ë°°ê²½ : íˆ¬ëª…
       - ì•„ì„ì›¹(ë¶€ëª¨ í˜ì´ì§€)ì˜ ë°°ê²½ìƒ‰/ë°°ê²½ì´ë¯¸ì§€ê°€ ê·¸ëŒ€ë¡œ ë¹„ì¹˜ê²Œ í•©ë‹ˆë‹¤. */
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      background: transparent;
    }

    /* â–  ì „ì²´ ìœ„ì ¯ ë°•ìŠ¤ */
    .naver-blog-latest {
      max-width: 1200px;   /* [ë””ìì¸] PCì—ì„œ ê°€ë¡œ 5ê°œ ë“¤ì–´ê°€ë„ë¡ ë„ˆë¹„ */
      margin: 0 auto;
      padding: 16px;
    }

    /* â–  ìœ„ì ¯ ì œëª© */
    .blog-title {
      text-align: center;
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 16px;
    }

    /* â–  ë¡œë”© ë¬¸êµ¬ */
    #loading {
      text-align: center;
      color: #888;
      padding: 20px 0;
      font-size: 14px;
      white-space: pre-line;
    }

    /* â–  ë¦¬ìŠ¤íŠ¸ ê¸°ë³¸ ì„¤ì • */
    .blog-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    /* â–  ê° ê¸€ ì¹´ë“œ(li)
       - flex ì»¬ëŸ¼ìœ¼ë¡œ ë°”ê¿”ì„œ, ë‚ ì§œë¥¼ ë§¨ ì•„ë˜ë¡œ ë³´ë‚´ê¸° ì‰½ê²Œ í•¨ */
    .blog-list li {
      background: #ffffff;
      border: 1px solid #e5e5e5;
      border-radius: 10px;
      padding: 16px;
      margin-bottom: 12px;
      box-sizing: border-box;
      overflow: visible;
      cursor: pointer;

      display: flex;              /* ì„¸ë¡œ ë°©í–¥ flex ì»¨í…Œì´ë„ˆ */
      flex-direction: column;
    }

    /* â–  ì¸ë„¤ì¼ ë°•ìŠ¤(.thumb)
       - í•­ìƒ ê³ ì • ë†’ì´ í™•ë³´
       - background: transparent â†’ ì‚¬ì§„ ë’¤ íšŒìƒ‰ ëŒ€ì‹  ì¹´ë“œ ë°°ê²½ìƒ‰(í°ìƒ‰)ë§Œ ë³´ì´ê²Œ */
    .thumb {
      width: 100%;
      height: 150px;                 /* [ë””ìì¸] ì¹´ë“œ ìƒë‹¨ ì´ë¯¸ì§€ ì˜ì—­ ë†’ì´ */
      margin-bottom: 8px;
      overflow: hidden;
      border-radius: 8px;
      background: transparent;       /* íšŒìƒ‰ ì œê±°, íˆ¬ëª… ì²˜ë¦¬ */
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* â–  ì¸ë„¤ì¼ ì´ë¯¸ì§€
       - border-radius ë¡œ ì‚¬ì§„ ëª¨ì„œë¦¬ë„ ë‘¥ê¸€ê²Œ */
    .thumb img {
      max-width: 100%;
      max-height: 100%;
      width: auto;
      height: auto;
      object-fit: contain;           /* ì´ë¯¸ì§€ë¥¼ ìë¥´ì§€ ì•Šê³  í†µì§¸ë¡œ ë³´ì—¬ì¤Œ */
      display: block;
      border-radius: 8px;            /* â˜… ì‚¬ì§„ ëª¨ì„œë¦¬ ë¼ìš´ë”© */
    }

    /* â–  ì œëª© */
    .title {
      font-size: 16px;
      font-weight: 700;
      color: #222;
      margin-bottom: 8px;
      line-height: 1.4;
    }

    /* í˜¸ë²„ ì‹œ ì œëª© ìƒ‰ìƒ ë³€ê²½ (PC) */
    .blog-list li:hover .title {
      color: #03c75a;
    }

    /* â–  ë³¸ë¬¸ ìš”ì•½ (2ì¤„ ì œí•œ) */
    .desc {
      font-size: 13px;
      color: #666;
      line-height: 1.6;
      margin-bottom: 6px;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    /* â–  ë‚ ì§œ
       - margin-top: auto ë¡œ ìœ„ìª½ ì—¬ë°±ì„ ë‚¨ì€ ê³µê°„ ì „ë¶€ë¡œ ë§Œë“¤ì–´
         ì¹´ë“œ ë§¨ ì•„ë˜ì— ê³ ì •ë˜ë„ë¡ í•¨ */
    .date {
      font-size: 12px;
      color: #999;
      text-align: right;
      margin-top: auto;   /* ì¹´ë“œì˜ ë§¨ ì•„ë˜ë¡œ ë°€ì–´ë‚´ê¸° */
      padding-top: 4px;   /* ìœ„ ë‚´ìš©ê³¼ ì‚´ì§ ê°„ê²© */
    }

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€ PC ë ˆì´ì•„ì›ƒ (ê°€ë¡œ 5ê°œ) â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    @media (min-width: 1024px) {
      .blog-list {
        display: grid;
        grid-template-columns: repeat(5, minmax(0, 1fr));
        gap: 16px;
      }

      .blog-list li {
        margin-bottom: 0;
        height: 100%;
      }
    }

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€ ëª¨ë°”ì¼ ì „ìš© ì´ë¯¸ì§€ í™•ëŒ€ ì„¤ì • â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    @media (max-width: 767px) {
      .thumb {
        height: 200px; /* [ëª¨ë°”ì¼ ë””ìì¸] í•„ìš”í•˜ë©´ 180~220 ì‚¬ì´ë¡œ ì¡°ì ˆ */
      }

      .thumb img {
        width: 100%;
        height: 100%;
        max-width: none;
        max-height: none;
        object-fit: cover;  /* ë°•ìŠ¤ë¥¼ ê°€ë“ ì±„ìš°ë˜, ì¼ë¶€ ì˜ë¦´ ìˆ˜ ìˆìŒ */
      }
    }
  </style>
</head>

<body>
  <div class="naver-blog-latest">
    <!-- [ì œëª© í…ìŠ¤íŠ¸] -->
    <h2 class="blog-title">ğŸ“ ë¸”ë¡œê·¸ ìµœì‹ ê¸€</h2>

    <!-- ë¡œë”© ì¤‘ í‘œì‹œ -->
    <div id="loading">ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>

    <!-- JSê°€ lië¥¼ ì¶”ê°€í•´ ë„£ëŠ” ìë¦¬ -->
    <ul class="blog-list"></ul>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      /* ê¸°ë³¸ ì„¤ì • */
      const BLOG_ID    = "stack0222";   // ë„¤ì´ë²„ ë¸”ë¡œê·¸ ì•„ì´ë””
      const SHOW_COUNT = 5;             // ë³´ì—¬ì¤„ ê¸€ ê°œìˆ˜

      // Cloudflare Worker ê¸°ë³¸ ì£¼ì†Œ
      const WORKER_BASE = "https://purple-rice-7b4d.stack0222.workers.dev";
      const rssProxyUrl = WORKER_BASE + "/rss?blogId=" + BLOG_ID;

      const list      = document.querySelector(".blog-list");
      const loadingEl = document.getElementById("loading");

      if (!list) {
        if (loadingEl) loadingEl.innerText = ".blog-list ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.";
        return;
      }

      if (loadingEl) {
        loadingEl.innerText = "RSS ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...\n" + rssProxyUrl;
      }

      /* XML <item> ì•ˆì—ì„œ íŠ¹ì • íƒœê·¸ í…ìŠ¤íŠ¸ ì¶”ì¶œ */
      function getTagText(item, tagName) {
        const el = item.getElementsByTagName(tagName)[0];
        return el ? (el.textContent || "") : "";
      }

      /* pubDate â†’ "26ë…„ 2ì›” 1ì¼ ì¼ìš”ì¼" í˜•ì‹ìœ¼ë¡œ ë³€í™˜ */
      function formatKoreanDate(pubDate) {
        if (!pubDate) return "";

        let d = new Date(pubDate);

        // ë¸Œë¼ìš°ì €ì— ë”°ë¼ íŒŒì‹± ì‹¤íŒ¨í•  ê°€ëŠ¥ì„± ëŒ€ë¹„
        if (isNaN(d.getTime())) {
          const m = pubDate.match(/(\d{4})[-\/.](\d{1,2})[-\/.](\d{1,2})/);
          if (m) {
            const y  = parseInt(m[1], 10);
            const mo = parseInt(m[2], 10);
            const da = parseInt(m[3], 10);
            d = new Date(y, mo - 1, da);
          }
        }

        if (isNaN(d.getTime())) {
