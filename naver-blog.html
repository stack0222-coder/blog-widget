<!DOCTYPE html>
<html lang="ko">
<head>
  <!-- [í•„ìˆ˜] í•œê¸€/ëª¨ë°”ì¼ ëŒ€ì‘ ê¸°ë³¸ ì„¤ì • -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ë„¤ì´ë²„ ë¸”ë¡œê·¸ ìµœì‹ ê¸€</title>

  <!-- =========================
       ë””ìì¸(CSS) ì˜ì—­
       - ìƒ‰ìƒ, í°íŠ¸, ê°„ê²©ì€ ì—¬ê¸°ì„œ ìˆ˜ì •
       ========================= -->
  <style>
    /* â–  í˜ì´ì§€ ì „ì²´ ê³µí†µ ìŠ¤íƒ€ì¼
       - background: transparent; â†’ ë°°ê²½ì„ íˆ¬ëª…ìœ¼ë¡œ í•´ì„œ
         ì•„ì„ì›¹(ë¶€ëª¨ í˜ì´ì§€)ì˜ ë°°ê²½ìƒ‰/ì´ë¯¸ì§€ê°€ ë³´ì´ë„ë¡ í•¨ */
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      background: #f7f7f7; /* â† ì „ì²´ ë°°ê²½ìƒ‰ì„ ë°”ê¾¸ê³  ì‹¶ìœ¼ë©´ ì´ ì¤„ ìˆ˜ì • */
    }

    /* â–  ì „ì²´ ìœ„ì ¯ì„ ê°ì‹¸ëŠ” ë°•ìŠ¤
       - max-width: 720px â†’ ìœ„ì ¯ ìµœëŒ€ ë„ˆë¹„
       - padding: 16px â†’ ì•ˆìª½ ì—¬ë°± */
    .naver-blog-latest {
      max-width: 720px;
      margin: 0 auto;   /* ê°€ìš´ë° ì •ë ¬ */
      padding: 16px;
      /* í•„ìš”í•˜ë‹¤ë©´ ì´ ì˜ì—­ì—ë§Œ ë°°ê²½ìƒ‰ì„ ì¤„ ìˆ˜ë„ ìˆìŒ
         ì˜ˆ) background: rgba(255,255,255,0.8); */
    }

    /* â–  ì œëª© ìŠ¤íƒ€ì¼
       - ê¸€ì í¬ê¸°/ì •ë ¬/êµµê¸° ë³€ê²½ ê°€ëŠ¥ */
    .blog-title {
      text-align: center;  /* ê°€ìš´ë° ì •ë ¬ */
      font-size: 18px;     /* ì œëª© ê¸€ì í¬ê¸° */
      font-weight: 700;    /* ê¸€ì êµµê¸° */
      margin-bottom: 16px; /* ì œëª© ì•„ë˜ ì—¬ë°± */
      /* color: #333;  í•„ìš”í•˜ë©´ ì œëª© ìƒ‰ìƒë„ ì¶”ê°€ ê°€ëŠ¥ */
    }

    /* â–  ë¡œë”© ë¬¸êµ¬ ìŠ¤íƒ€ì¼
       - ê¸€ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì¼ ë•Œ ë³´ì´ëŠ” í…ìŠ¤íŠ¸ */
    #loading {
      text-align: center;
      color: #888;
      padding: 20px 0;
      font-size: 14px;
    }

    /* â–  ê¸€ ëª©ë¡ ì „ì²´ ìŠ¤íƒ€ì¼ (ul)
       - ë¶ˆë¦¿(ë™ê·¸ë¼ë¯¸) ì œê±° ë° ì—¬ë°± ì´ˆê¸°í™” */
    .blog-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    /* â–  ê° ê¸€ ë°•ìŠ¤ ìŠ¤íƒ€ì¼ (li í•˜ë‚˜ê°€ ê¸€ 1ê°œ)
       - í…Œë‘ë¦¬, ë°°ê²½ìƒ‰, ë‘¥ê·¼ ëª¨ì„œë¦¬ ë“± ìˆ˜ì • ê°€ëŠ¥ */
    .blog-list li {
      background: #fff;           /* ê¸€ ë°•ìŠ¤ ë°°ê²½ìƒ‰ */
      border: 1px solid #e5e5e5;  /* í…Œë‘ë¦¬ ìƒ‰ */
      border-radius: 10px;        /* ëª¨ì„œë¦¬ ë‘¥ê¸€ê²Œ */
      padding: 16px;              /* ë°•ìŠ¤ ì•ˆìª½ ì—¬ë°± */
      margin-bottom: 12px;        /* ê¸€ ì‚¬ì´ ê°„ê²© */
      transition: all 0.3s;       /* hover íš¨ê³¼ ë¶€ë“œëŸ½ê²Œ */
    }

    /* â–  ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë ¸ì„ ë•Œ ì¹´ë“œ íš¨ê³¼ (PCì—ì„œë§Œ ì²´ê°)
       - ëª¨ë°”ì¼ì—ì„œëŠ” í° ì˜í–¥ ì—†ìŒ */
    .blog-list li:hover {
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.05);
      border-color: #03c75a; /* ë„¤ì´ë²„ ê·¸ë¦° */
    }

    /* â–  ê¸€ ì œëª© ë§í¬ ìŠ¤íƒ€ì¼ */
    .blog-list a {
      display: block;
      font-size: 16px;       /* ì œëª© ê¸€ì í¬ê¸° */
      font-weight: 700;      /* ì œëª© êµµê¸° */
      color: #222;           /* ì œëª© ìƒ‰ */
      text-decoration: none; /* ë°‘ì¤„ ì œê±° */
      margin-bottom: 8px;    /* ì œëª©ê³¼ ë³¸ë¬¸ ì‚¬ì´ ê°„ê²© */
      line-height: 1.4;
    }

    /* â–  ì œëª©ì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë ¸ì„ ë•Œ ìƒ‰ ë³€ê²½ (PCìš©) */
    .blog-list a:hover {
      color: #03c75a; /* ë„¤ì´ë²„ ê·¸ë¦° ì»¬ëŸ¬ */
    }

    /* â–  ë³¸ë¬¸ ìš”ì•½(ë¯¸ë¦¬ë³´ê¸°) ìŠ¤íƒ€ì¼
       - ìµœëŒ€ 2ì¤„ë§Œ ë³´ì´ê²Œ í•˜ê³  ë‚˜ë¨¸ì§€ëŠ” ì˜ë¼ëƒ„ */
    .desc {
      font-size: 13px;    /* ë³¸ë¬¸ ê¸€ì í¬ê¸° */
      color: #666;        /* ë³¸ë¬¸ ê¸€ì ìƒ‰ */
      line-height: 1.6;
      margin-bottom: 6px;

      /* 2ì¤„ê¹Œì§€ë§Œ ë³´ì´ê³  ë’¤ëŠ” ìë™ìœ¼ë¡œ ì˜ë¦¬ëŠ” ë¶€ë¶„ */
      display: -webkit-box;
      -webkit-line-clamp: 2;       /* ë³´ì—¬ì¤„ ì¤„ ìˆ˜ (2ì¤„) */
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    /* â–  ë‚ ì§œ í…ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ */
    .date {
      font-size: 12px;
      color: #999;
      text-align: right; /* ì˜¤ë¥¸ìª½ ì •ë ¬ */
    }
  </style>
</head>

<body>
  <!-- =========================
       HTML êµ¬ì¡° ì˜ì—­
       ========================= -->

  <!-- [1] ì „ì²´ ìœ„ì ¯ì„ ê°ì‹¸ëŠ” ì˜ì—­ -->
  <div class="naver-blog-latest">
    <!-- [2] ìœ„ì ¯ ì œëª© í…ìŠ¤íŠ¸ (ì—¬ê¸° ê¸€ìë§Œ ë°”ê¿”ë„ ë¨) -->
    <h2 class="blog-title">ğŸ“ ë¸”ë¡œê·¸ ìµœì‹ ê¸€</h2>

    <!-- [3] ë°ì´í„° ë¡œë”© ì¤‘ì¼ ë•Œ ë³´ì´ëŠ” ë¬¸êµ¬ -->
    <div id="loading">ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>

    <!-- [4] ë¸”ë¡œê·¸ ê¸€ ë¦¬ìŠ¤íŠ¸ê°€ ë“¤ì–´ê°ˆ ìë¦¬
           (ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ìë™ìœ¼ë¡œ liê°€ ì¶”ê°€ë¨) -->
    <ul class="blog-list"></ul>
  </div>

  <!-- =========================
       ë™ì‘(JS) ì˜ì—­ - ë¸”ë¡œê·¸ ê¸€ ë¶ˆëŸ¬ì˜¤ê¸°
       ========================= -->
  <script>
    // í˜ì´ì§€ì˜ HTMLì´ ëª¨ë‘ ì¤€ë¹„ëœ í›„ ì‹¤í–‰
    document.addEventListener("DOMContentLoaded", function () {

      // [A] ê¸°ë³¸ ì„¤ì • -------------------------------
      // â–¶ ë„¤ì´ë²„ ë¸”ë¡œê·¸ ì•„ì´ë””
      //    - ë³¸ì¸ ë¸”ë¡œê·¸ë¡œ ë°”ê¾¸ë ¤ë©´ ì—¬ê¸° "stack0222"ë§Œ ìˆ˜ì •
      const BLOG_ID = "stack0222";

      // â–¶ í•œ ë²ˆì— ë³´ì—¬ì¤„ ê¸€ ê°œìˆ˜
      const SHOW_COUNT = 5;

      // [B] RSS ì£¼ì†Œ / API ì£¼ì†Œ ë§Œë“¤ê¸° ---------------
      // ë„¤ì´ë²„ ë¸”ë¡œê·¸ RSS ì£¼ì†Œ
      const rssUrl = "https://rss.blog.naver.com/" + BLOG_ID + ".xml";

      // rss2json APIë¥¼ ì´ìš©í•´ì„œ RSS â†’ JSON í˜•íƒœë¡œ ë³€í™˜
      const apiUrl =
        "https://api.rss2json.com/v1/api.json?rss_url=" + encodeURIComponent(rssUrl);

      // [C] ì‹¤ì œë¡œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸° --------------------
      fetch(apiUrl)
        .then(function (res) {
          return res.json();
        })
        .then(function (data) {
          const list = document.querySelector(".blog-list");
          const loadingEl = document.getElementById("loading");

          // ë¡œë”© ë¬¸êµ¬ ìˆ¨ê¸°ê¸°
          if (loadingEl) loadingEl.style.display = "none";

          // ë°ì´í„°ê°€ ì—†ê±°ë‚˜ ì—ëŸ¬ê°€ ë‚œ ê²½ìš°
          if (!data || data.status !== "ok" || !data.items) {
            if (list) {
              list.innerHTML =
                '<li style="text-align:center;">ê¸€ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</li>';
            }
            return;
          }

          // [D] ê¸€ ëª©ë¡ ìƒì„± --------------------------
          // data.items ì¤‘ ì•ì—ì„œë¶€í„° SHOW_COUNTê°œë§Œ ì‚¬ìš©
          data.items.slice(0, SHOW_COUNT).forEach(function (item) {
            const li = document.createElement("li");

            // ë‚ ì§œ (ì˜ˆ: 2024-02-01 í˜•ì‹ë§Œ ì‚¬ìš©)
            const date = item.pubDate ? item.pubDate.split(" ")[0] : "";

            // ë³¸ë¬¸ ë‚´ìš©ì—ì„œ HTML íƒœê·¸ ì œê±° í›„ ì• 100ê¸€ìë§Œ ì‚¬ìš©
            const rawDesc = item.description || "";
            const cleanDesc =
              rawDesc.replace(/<[^>]*>/g, "").slice(0, 100) + "...";

            // li ì•ˆì— ë“¤ì–´ê°ˆ HTML êµ¬ì¡°
            li.innerHTML =
              '<a href="' + item.link + '" target="_blank" rel="noopener">' +
                item.title +
              '</a>' +
              '<div class="desc">' + cleanDesc + '</div>' +
              '<div class="date">' + date + '</div>';

            list.appendChild(li);
          });

          // [E] (ì„ íƒ ê¸°ëŠ¥) iframe ë†’ì´ë¥¼ ë¶€ëª¨ í˜ì´ì§€ì— ì•Œë ¤ì£¼ê¸°
          //  - ì•„ì„ì›¹ì—ì„œ ì´ íŒŒì¼ì„ iframeìœ¼ë¡œ ë¶ˆëŸ¬ì™”ì„ ë•Œ,
          //    ì´ ë¬¸ì„œì˜ ì‹¤ì œ ë†’ì´ë¥¼ ë¶€ëª¨ì—ê²Œ ì „ë‹¬í•´ì„œ
          //    ì½”ë“œìœ„ì ¯ ë†’ì´ë¥¼ ìë™ìœ¼ë¡œ ë§ì¶œ ë•Œ ì‚¬ìš©
          setTimeout(function () {
            const height = document.body.scrollHeight;
            if (window.parent) {
              window.parent.postMessage(
                { type: "resize", height: height },
                "*"
              );
            }
          }, 300);
        })
        .catch(function () {
          // ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ / API í˜¸ì¶œ ì‹¤íŒ¨ ì‹œ
          const loadingEl = document.getElementById("loading");
          if (loadingEl) loadingEl.innerText = "ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨";
        });
    });
  </script>
</body>
</html>

